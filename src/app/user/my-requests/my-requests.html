<div class="container fade-in">
  <div class="header">
    <h1>ğŸ“¦ Mis Solicitudes</h1>
    <p>AquÃ­ puedes ver el estado de tus citas con los programadores.</p>
  </div>

  <div class="requests-grid">
    @for (req of requests$ | async; track req.id) {
      
      <div class="request-card" [class]="req.status">
        
        <div class="card-header">
          <span class="date">{{ req.dateRequest | date:'mediumDate' }} - {{ req.dateRequest | date:'shortTime' }}</span>
          
          @if (req.status === 'pending') {
            <span class="badge pending">â³ Pendiente</span>
          } @else if (req.status === 'accepted') {
            <span class="badge accepted">âœ… Aceptada</span>
          } @else {
            <span class="badge rejected">âŒ Rechazada</span>
          }
        </div>

        <h3>{{ req.topic }}</h3>
        
        @if (req.adminComment) {
          <div class="response-box" [class.bg-green]="req.status === 'accepted'">
            <strong>Respuesta del Programador:</strong>
            <p>"{{ req.adminComment }}"</p>
          </div>
        }

        @if (req.status === 'accepted') {
          <p class="instruction">
            ğŸ‘‰ El programador ha recibido tu nÃºmero <strong>{{ req.clientPhone }}</strong> y te contactarÃ¡ pronto por WhatsApp o Correo.
          </p>
        }

        @if (req.status === 'pending') {
          <p class="wait-msg">El experto estÃ¡ revisando tu solicitud.</p>
        }

      </div>

    } @empty {
      <div class="empty-state">
        <p>ğŸ“­ No tienes solicitudes enviadas.</p>
        <p>Ve al portafolio de un programador y agenda una cita.</p>
      </div>
    }
  </div>
</div>